% script tires to automate for arbitrary rho phi and z

\documentclass{article}
\usepackage{tikz,tikz-3dplot}
\begin{document}
\begin{figure}
\centering
\tdplotsetmaincoords{70}{120}
% === PARAMETERS ===
\def\rhoa{3.14}
\def\phia{56}
\def\za{4}

% === COORDINATE CALCULATIONS ===
\pgfmathsetmacro{\Px}{\rhoa*cos(\phia)}
\pgfmathsetmacro{\Py}{\rhoa*sin(\phia)}
\pgfmathsetmacro{\Pz}{\za}

% Unit vector in rho direction
\pgfmathsetmacro{\axrx}{cos(\phia)}
\pgfmathsetmacro{\axry}{sin(\phia)}
\pgfmathsetmacro{\axrz}{0}

% Unit vector in phi direction
\pgfmathsetmacro{\axpx}{-sin(\phia)}
\pgfmathsetmacro{\axpy}{cos(\phia)}
\pgfmathsetmacro{\axpz}{0}

% Cylinder points
\pgfmathsetmacro{\Cx}{\rhoa*cos(\phia)}
\pgfmathsetmacro{\Cy}{\rhoa*sin(\phia)}
\pgfmathsetmacro{\Cz}{0}
\pgfmathsetmacro{\CxU}{\rhoa*cos(\phia)}
\pgfmathsetmacro{\CyU}{\rhoa*sin(\phia)}
\pgfmathsetmacro{\CzU}{\za}

% Opposite generator
\pgfmathsetmacro{\Cxtwo}{\rhoa*cos(\phia+180)}
\pgfmathsetmacro{\Cytwo}{\rhoa*sin(\phia+180)}
\pgfmathsetmacro{\Cztwo}{0}
\pgfmathsetmacro{\CxtwoU}{\rhoa*cos(\phia+180)}
\pgfmathsetmacro{\CytwoU}{\rhoa*sin(\phia+180)}
\pgfmathsetmacro{\CztwoU}{\za}

% Plane phi points
\pgfmathsetmacro{\PxP}{6*cos(\phia)}
\pgfmathsetmacro{\PyP}{6*sin(\phia)}
\pgfmathsetmacro{\PzP}{0}

\begin{tikzpicture}[tdplot_main_coords, scale=1]
\tikzstyle{every node}=[font=\huge]




% --- SHADED PLANES ---
% xy-plane (z=0)
\fill[green!20, opacity=0.6] (0,0,0) -- (7,0,0) -- (7,7,0) -- (0,7,0) -- cycle;

% yz-plane (x=0)
\fill[green!20, opacity=0.6] (0,0,0) -- (0,7,0) -- (0,7,7) -- (0,0,7) -- cycle;

% zx-plane (y=0)
\fill[green!20, opacity=0.6] (0,0,0) -- (7,0,0) -- (7,0,7) -- (0,0,7) -- cycle;


% --- AXES ---
\draw[thick,-latex] (0,0,0) -- (8,0,0) node[anchor=north east]{$x$};
\draw[thick,-latex] (0,0,0) -- (0,8,0) node[anchor=north west]{$y$};
\draw[thick,-latex] (0,0,0) -- (0,0,8) node[anchor=south]{$z$};



% --- CIRCLES ---
%\draw[thick] (0,0,0) circle (\rhoa);
%\draw[thick] (0,0,\za) circle (\rhoa);

% --- CYLINDER SIDE ---
%\draw[thick] (\Cx,\Cy,\Cz) -- (\CxU,\CyU,\CzU)
%        node[midway,left]{$\rho=\rho_1$ surface};

% Opposite generator
%\draw[thick] (\Cxtwo,\Cytwo,\Cztwo) -- (\CxtwoU,\CytwoU,\CztwoU);

% --- PLANE z = z1 ---
%\filldraw[fill=orange, nearly transparent]
%    (-4,-4,\za) -- (4,-4,\za) -- (4,5,\za) -- (-4,5,\za) -- cycle;
%\draw (-4,5,\za) node[anchor=south]{$z=z_1$ plane};

% --- PLANE φ = φ1 ---
%\filldraw[fill=blue, nearly transparent]
%    (0,0,0) -- (\PxP,\PyP,0) -- (\PxP,\PyP,\za) -- (0,0,\za) -- cycle;
%\draw (\PxP,\PyP,0) node[anchor=south west]{$\phi=\phi_1$ plane};

% --- POINT P1 ---
%\filldraw[color=blue] (\Px,\Py,\Pz) circle (0.075cm);
%\node at (0.9*\Px,0.7*\Py,\Pz) {$P_1(\rho_1,\phi_1,z_1)$};

% --- BASIS VECTORS ---
%\draw[ultra thick,-latex]
%    (\Px,\Py,\Pz) -- (\Px+\axrx, \Py+\axry, \Pz)
%    node[anchor=north]{$\mathbf{a}_{\rho}$};
%\draw[ultra thick,-latex]
%    (\Px,\Py,\Pz) -- (\Px+\axpx, \Py+\axpy, \Pz)
%    node[anchor=north west]{$\mathbf{a}_\phi$};
%\draw[ultra thick,-latex]
%    (\Px,\Py,\Pz) -- (\Px,\Py,\Pz+0.8)
%    node[anchor=north west]{$\mathbf{a}_z$};

% --- ANGLE ARC ---
%\draw[->,thick] (4,0,0) arc (0:\phia:4);
%\node at ({2*cos(\phia/2)},{2*sin(\phia/2)},0) {$\phi_1$};

% --- RHO LINE ---
%\draw[ultra thick,-latex] (0,0,0) -- (\Px,\Py,0);
%\node at ({0.5*\Px},{0.5*\Py},0) {$\rho_1$};

% --- VERTICAL DROP ---
%\draw[ultra thick] (\Px,\Py,\Pz) -- (\Px,\Py,0);

% --- z1 TICK ---
%\draw[ultra thick] (0.15,0,\za) -- (-0.15,0,\za)
%    node[anchor=south west]{$z_1$};
\end{tikzpicture}
\end{figure}
\end{document}
